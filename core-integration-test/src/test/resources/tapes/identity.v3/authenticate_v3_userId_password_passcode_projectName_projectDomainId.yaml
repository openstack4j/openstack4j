!tape
name: authenticate_v3_userId_password_projectName_projectDomainId
interactions:
    -   recorded: 2021-09-17T19:52:51.379Z
        request:
            method: POST
            uri: http://devstack.openstack.stack:5000/v3/auth/tokens
            headers:
                Accept: application/json
                Content-Length: '12523'
                Content-Type: application/json
                Host: devstack.openstack.stack:5000
                OS4J-Auth-Command: Tokens
                Proxy-Connection: keep-alive
                User-Agent: Jersey/2.22.1 (HttpUrlConnection 1.8.0_60)
            body: |-
                {
                    "identity": {
                        "password": {
                            "user": {
                                "name": "admin",
                                "domain": {
                                    "name": "default"
                                },
                                "password": "devstack"
                            }
                        },
                        "totp": {
                            "user": {
                                "name": "admin",
                                "passcode": "123456",
                                "domain": {
                                    "name": "default"
                                }
                            }
                        },
                        "methods": [
                                "password",
                                "totp"
                        ]
                    },
                    "scope": {
                        "project": {
                            "id": "194dfdddb6bc43e09701035b52edb0d9"
                        }
                    }
                }
        response:
            status: 201
            headers:
                Content-Type: application/json
                Date: Fri, 17 Sep 2021 17:02:34 GMT
                Server: nginx/1.10.3 (Ubuntu)
                Vary: X-Auth-Token
                X-Subject-Token: gAAAAABhRMoqEnuulgXlf-C0Txss9nrfYMLhrcMAWKWq_kq_9FiwihSxXoHvOKTswGNF0mYuGrif9N0GG0dRvTYM-No_Dl89g6to3J-A6fS6XGCZhqfXDbwgIHfA0FxInEXX-E7jFCyWBbgcEjdQrOoJoO95rZ9ZreKYNraRtD6AVf2Avnnn4jE
                x-openstack-request-id: req-19aab02a-b1fc-45b2-9080-d634dc93ddf3
            body: '{
          "token": {
            "is_domain": false,
            "methods": [
              "password",
              "totp"
            ],
            "roles": [
              {
                "id": "9fe2ff9ee4384b1894a90878d3e92bab",
                "name": "Member"
              }
            ],
            "expires_at": "2021-09-21T10:18:27.000000Z",
            "project": {
              "domain": {
                "id": "5ad59bc8777347f78e111b3b8852f960",
                "name": "Default"
              },
              "id": "eee5cb8a59d44009bc7a3393e55e9450",
              "name": "admin"
            },
            "catalog": [
              {
                "endpoints": [
                  {
                    "region_id": "de-nbg6-1",
                    "url": "http://devstack.openstack.stack:9311",
                    "region": "RegionOne",
                    "interface": "admin",
                    "id": "5f00d8587c144b1cb47fc9385333d0cd"
                  }
                ],
                "type": "key-manager",
                "id": "03328af2c19d4f188083412185c32063",
                "name": "barbican"
              }
            ],
            "user": {
              "password_expires_at": null,
              "domain": {
                "id": "5ad59bc8777347f78e111b3b8852f960",
                "name": "Default"
              },
              "id": "f90cf1a2f02648bfa5bf6ff5ea2e8c93",
              "name": "admin"
            },
            "audit_ids": [
              "iDSSDj_zQL6FI-U1cjBtsw"
            ],
            "issued_at": "2021-09-20T10:18:27.000000Z"
          }
        }'
